model Student {
  id           Int        @id @default(autoincrement())
  name         String
  email        String     @unique
  password     String     // Hashed password
  phone        String?
  profileImage String?
  class        String?
  academicYear String?
  schoolId     Int
  createdAt    DateTime   @default(now())
  updatedAt    DateTime   @updatedAt

  school    School     @relation(fields: [schoolId], references: [id], onDelete: Cascade)
  favorites Favorite[]
  refreshTokens RefreshToken[]
}

model Favorite {
  id        Int      @id @default(autoincrement())
  studentId Int
  lessonId  Int
  createdAt DateTime @default(now())

  student Student @relation(fields: [studentId], references: [id], onDelete: Cascade)
  lesson  Lesson  @relation(fields: [lessonId], references: [id], onDelete: Cascade)

  @@unique([studentId, lessonId])
}
